@{block #content}
<form action="/01Vyvoj/Nette_MultipleFileUploader/document_root/?do=form-submit" method="post" class="ajax" enctype="multipart/form-data" name="frm-form2">
<div id="flcontainer"></div>
<table><tr><td>
<div id="tes-pokust"></div>
</td></tr></table>
<script type="text/javascript">
	$(function(){
		// TODO: fallbacks
		var uploader = $("#tes-pokust").pluploadQueue({
			// General settings
			runtimes : 'gears,html5,browserplus,flash,silverlight,html4',
			//runtimes : 'gears,html5,browserplus,silverlight,html4',
			//runtimes : 'flash,html4',
			url : "\/01Vyvoj\/Nette_MultipleFileUploader\/document_root\/?do=form-submit",
			max_file_size : 134217728,
			chunk_size : '5mb',

			headers: {
				"X-Uploader": "plupload",
				"token"     : "282094d832fd1a2a67"
			},

			// Flash settings
			flash_swf_url : "\/01Vyvoj\/Nette_MultipleFileUploader\/document_root\/"+'swf/MultipleFileUpload/plupload/plupload.flash.swf',

			// Silverlight settings
			silverlight_xap_url : "\/01Vyvoj\/Nette_MultipleFileUploader\/document_root\/"+'xap/MultipleFileUpload/plupload/plupload.silverlight.xap'
		});
		uploader = $(uploader).pluploadQueue();
	});
</script>
</form>

<h1>MultipleFileUpload - form control</h1>
<p>
	Je formulářový prvek, který umožňuje v kompatibilních prohlížečích vybrat soubory při uploadu na server na 1 kliknutí.
</p>




<h2>Dokumentace</h2>
<p>
	Dokumentaci najdete na stránce: <a href="http://nettephp.com/cs/extras/multiplefileupload" target="_BLANK">http://nettephp.com/cs/extras/multiplefileupload</a>.
</p>




<h2>Živý příklad</h2>
{snippet form}
	{ifset $values}
		<h2>Data vrácená formulářem</h2>
		{? $fields = array("upload","upload2"); }
		{foreach $fields AS $field}
		<b>{=count($values[$field])}</b> přijatých souborů pomocí odesílacího políčka <b>{$field}</b>.
		<table>
			<tr>
				<th>
					Název souboru
				</th>
				<th>
					Velikost souboru
				</th>
				<th>
					Mime-type
				</th>
				<th>
					Cesta k souboru
				</th>
			</tr>
			{foreach $values[$field] AS $file}
			{* $file is instanceof HttpUploadedFile *}
			<tr>
				<th style="text-align: center;">
					{$file->name}
				</th>
				<td style="text-align: center;">
					{$file->size|bytes}
				</td>
				<td>
					{$file->contentType}
				</td>
				<td>
					<i style="font-size: 60%;">{$file->temporaryFile}</i>
				</td>
			</tr>
			{/foreach}
		</table>
		{/foreach}
		<form class="ajax" action="{link prekresliForm!}" style="padding-top: 10px;">
			<input type="submit" name="tlacitko" value="Zpět na formulář">
		</form>
	{else}
		{widget form}
	{/if}
{/snippet}




<h2>Informace o konfiguraci</h2>
<table cellpadding="5" cellspacing="2" border="2" class="server">
	<tr>
		<th>
			Safe mode
		</th>
		<td>
			{if ini_get("safe_mode")}
				ano
			{else}
				ne
			{/if}
		</td>
	</tr>

	<tr>
		<th>
			open_basedir
		</th>
		<td>
			{if $data = ini_get("open_basedir")}
				{$data}
			{else}
				<i>bez omezení</i>
			{/if}
		</td>
	</tr>

	<tr>
		<th>
			Maximální velikost POST požadavku
		</th>
		<td>
			{= ini_get("post_max_size")}
		</td>
	</tr>

	<tr>
		<th>
			Maximální velikost odesílaných souborů
		</th>
		<td>
			{= ini_get("upload_max_filesize")}
		</td>
	</tr>

	<tr>
		<th>
			{=Framework::NAME} {=Framework::VERSION}{* ({=Framework::PACKAGE}) *}
		</th>
		<td>
			{=Framework::REVISION}
		</td>
	</tr>

	<tr>
		<th>
			Environment name
		</th>
		<td>
			{=Environment::getName()}
		</td>
	</tr>

	<tr>
		<th>
			{=MultipleFileUpload::NAME} version
		</th>
		<td>
			{=MultipleFileUpload::VERSION}
		</td>
	</tr>

	<tr>
		<th>
			Multiple File Upload: queues model
		</th>
		<td>
			{=MultipleFileUpload::getQueuesModel()->reflection->name}
		</td>
	</tr>

	<tr>
		<th>
			Multiple File Upload: interfaces
		</th>
		<td>
			{foreach MultipleFileUpload::getUIRegistrator()->getInterfaces() AS $interface}
				{$interface->reflection->name}{if !$iterator->isLast()},{/if}
			{/foreach}
		</td>
	</tr>

	<tr>
		<th>
			Příklad: Bude ukládat odeslané soubory?
		</th>
		<td>
			{if Environment::isProduction()}ne{else}ano{/if}
		</td>
	</tr>
</table>
